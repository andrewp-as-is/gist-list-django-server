transaction не нужно тк будет подвисать
просто в конце добавить request, а не раньше чтоб если что то не дублировать
---
но... а что если lock будет создано без requests и тд варианты
где-то таки добавить транзакцию?
